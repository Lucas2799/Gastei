<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Gastei.UI.Views.NovaDividaPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodels="clr-namespace:Gastei.UI.ViewModels"
    xmlns:entities="clr-namespace:Gastei.Core.Entities;assembly=Gastei.Core"
    xmlns:enums="clr-namespace:Gastei.Core.Enums;assembly=Gastei.Core"
    Title="Nova DÃ­vida"
    x:DataType="viewmodels:NovaDividaViewModel">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label Text="DescriÃ§Ã£o" FontAttributes="Bold" />
            <Entry Text="{Binding DividaSelecionada.Descricao}" Placeholder="Ex: CartÃ£o de crÃ©dito" />

            <Label Text="Valor (R$)" FontAttributes="Bold" />
            <Entry Text="{Binding DividaSelecionada.Valor}" 
                   Keyboard="Numeric"
                   Placeholder="0,00" />

            <Label Text="Valor Estimado PrÃ³ximo MÃªs (opcional)" FontAttributes="Bold" />
            <Entry Text="{Binding DividaSelecionada.ValorEstimadoProximoMes}" 
                   Keyboard="Numeric"
                   Placeholder="0,00" />

            <Label Text="Dia de Vencimento" FontAttributes="Bold" />
            <Entry Text="{Binding DividaSelecionada.DiaVencimento}" 
                   Keyboard="Numeric"
                   Placeholder="Ex: 10" />

            <Label Text="Tipo de DÃ­vida" FontAttributes="Bold" />
            <Picker ItemsSource="{Binding TiposDisponiveis}" 
                    SelectedItem="{Binding DividaSelecionada.Tipo}"
                    Title="Selecione o tipo" />

            <Label Text="Categoria" FontAttributes="Bold" />
            <Picker ItemsSource="{Binding CategoriasDisponiveis}"
        SelectedItem="{Binding DividaSelecionada.Categoria}"
        Title="Selecione uma categoria" />

            <Label Text="Subcategoria" FontAttributes="Bold" />
            <Picker ItemsSource="{Binding SubcategoriasDisponiveis}"
        SelectedItem="{Binding DividaSelecionada.Subcategoria}"
        Title="Selecione uma subcategoria" />

            <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                <Label Text="Ativa" FontAttributes="Bold" VerticalOptions="Center"/>
                <Switch IsToggled="{Binding DividaSelecionada.Ativa}" />
            </HorizontalStackLayout>

            <Button Text="ðŸ’¾ Salvar DÃ­vida"
                    Command="{Binding SalvarCommand}"
                    HeightRequest="50"
                    BackgroundColor="{StaticResource PrimaryColor}"
                    TextColor="White"
                    CornerRadius="10" />

            <ActivityIndicator 
                IsVisible="{Binding IsBusy}"
                IsRunning="{Binding IsBusy}"
                HorizontalOptions="Center" 
                VerticalOptions="Center" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
